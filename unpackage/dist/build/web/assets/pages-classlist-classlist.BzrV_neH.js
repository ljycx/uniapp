import{b as a,d as s,o as e,c as l,w as t,z as o,i as u,a as i,s as c,e as d,f as r,F as n,j as p,v as g}from"./index-BwW5oSo7.js";import{_ as m}from"./uni-load-more.BNGZIGGe.js";import{_ as f,f as _,g as v,r as y,h as w,i as L}from"./apis.-Vii-PU-.js";const h=f({__name:"classlist",setup(f){const h=a([]),j=a(!0),k={pageNum:1,pageSize:12},z=async()=>{let a;k.classid&&(a=await w(k)),k.type&&(a=await L(k)),h.value=[...h.value,...a.data],console.log("start getClass"),k.pageSize>a.data.length&&(j.value=!1,console.log("isData为false了")),o("storage_classList",h.value)};return _((a=>{a.id&&(k.classid=a.id),a.type&&(k.type=a.type),z()})),v((()=>{j.value&&(k.pageNum++,z())})),(a,o)=>{const f=y(s("uni-load-more"),m),_=u,v=p,w=g;return e(),l(_,{class:"classListLayout"},{default:t((()=>[h.value.length?c("",!0):(e(),l(_,{key:0,class:"loadLayout"},{default:t((()=>[i(f,{status:"loading"})])),_:1})),i(_,{class:"content"},{default:t((()=>[(e(!0),d(n,null,r(h.value,(a=>(e(),l(w,{url:"/pages/preview/preview?id="+a._id,class:"pic-item",key:a._id},{default:t((()=>[i(v,{class:"image",src:a.smallPicurl,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["url"])))),128))])),_:1}),h.value.length?(e(),l(_,{key:1,class:"loadLayout"},{default:t((()=>[i(f,{status:j.value?"loading":"noMore"},null,8,["status"])])),_:1})):c("",!0),i(_,{class:"place-safe-bottom"})])),_:1})}}},[["__scopeId","data-v-1fdf3c2a"]]);export{h as default};
